<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniBank</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <!-- Phone Number Registration Screen -->
    <div id="phoneRegistration" class="screen active">
        <div class="container">
            <div class="header">
                <div class="app-icon">
                    <div class="icon-square">
                        <div class="icon-inner"></div>
                    </div>
                </div>
                <h1 class="title">Create Account</h1>
                <p class="subtitle">Enter your phone number to get started with secure payments</p>
            </div>
            
            <div class="form-group">
                <label class="label">Phone Number</label>
                <div class="phone-input">
                    <span class="country-code">+998</span>
                    <input type="tel" id="phoneNumber" placeholder="(00) 000-0000" class="input-field">
                </div>
                <div class="info-text">
                    <span class="info-icon">‚ÑπÔ∏è</span>
                    <span>We'll send you a verification code to confirm your number. Standard message rates may apply.</span>
                </div>
            </div>
            
            <button class="primary-btn" onclick="sendOTP()">Next</button>
            
            <div class="terms">
                <p>By continuing, you agree to our <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></p>
            </div>
        </div>
    </div>

    <!-- OTP Verification Screen -->
    <div id="otpVerification" class="screen">
        <div class="container">
            <button class="back-btn" onclick="goBack('phoneRegistration')">‚Üê</button>
            
            <div class="header">
                <h1 class="title">Enter the code</h1>
                <p class="subtitle">We've sent a 6-digit code to your phone number. Please enter it below to verify your account.</p>
            </div>
            
            <div class="otp-container">
                <div class="otp-inputs">
                    <input type="text" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 0)">
                    <input type="text" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 1)">
                    <input type="text" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 2)">
                    <input type="text" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 3)">
                    <input type="text" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 4)">
                    <input type="text" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 5)">
                </div>
                
                <div class="timer">
                    Code expires in <span id="timer">02:00</span>
                </div>
                
                <div class="resend-section" id="resendSection" style="display: none;">
                    <p>Didn't receive the code?</p>
                    <button class="link-btn" onclick="resendCode()">Resend Code</button>
                </div>
            </div>
            
            <button class="primary-btn" id="confirmOTP" onclick="verifyOTP()" disabled>Confirm</button>
        </div>
    </div>

    <!-- Set PIN Screen -->
    <div id="setPinScreen" class="screen">
        <div class="container">
            <button class="back-btn" onclick="goBack('otpVerification')">‚Üê</button>
            
            <div class="header">
                <div class="pin-icon">üîí</div>
                <h1 class="title">Create your PIN</h1>
                <p class="subtitle">Set up a 4-digit PIN for quick and secure access to your account</p>
            </div>
            
            <div class="pin-dots">
                <div class="pin-dot" id="pinDot1"></div>
                <div class="pin-dot" id="pinDot2"></div>
                <div class="pin-dot" id="pinDot3"></div>
                <div class="pin-dot" id="pinDot4"></div>
            </div>
            
            <div class="numpad">
                <div class="numpad-row">
                    <button class="num-btn" onclick="enterPin('1')">1</button>
                    <button class="num-btn" onclick="enterPin('2')">2</button>
                    <button class="num-btn" onclick="enterPin('3')">3</button>
                </div>
                <div class="numpad-row">
                    <button class="num-btn" onclick="enterPin('4')">4</button>
                    <button class="num-btn" onclick="enterPin('5')">5</button>
                    <button class="num-btn" onclick="enterPin('6')">6</button>
                </div>
                <div class="numpad-row">
                    <button class="num-btn" onclick="enterPin('7')">7</button>
                    <button class="num-btn" onclick="enterPin('8')">8</button>
                    <button class="num-btn" onclick="enterPin('9')">9</button>
                </div>
                <div class="numpad-row">
                    <button class="num-btn invisible"></button>
                    <button class="num-btn" onclick="enterPin('0')">0</button>
                    <button class="num-btn delete-btn" onclick="deletePin()">‚å´</button>
                </div>
            </div>
            
            <button class="primary-btn" id="continuePin" onclick="confirmPin()" disabled>Continue</button>
        </div>
    </div>

    <!-- Login Screen with PIN -->
    <div id="loginScreen" class="screen">
        <div class="container">
            <div class="header">
                <div class="login-icon">üõ°Ô∏è</div>
                <h1 class="title">Secure Login</h1>
                <p class="subtitle">Enter your 4-digit PIN</p>
            </div>
            
            <div class="pin-dots">
                <div class="pin-dot" id="loginPinDot1"></div>
                <div class="pin-dot" id="loginPinDot2"></div>
                <div class="pin-dot" id="loginPinDot3"></div>
                <div class="pin-dot" id="loginPinDot4"></div>
            </div>
            
            <div class="numpad">
                <div class="numpad-row">
                    <button class="num-btn" onclick="enterLoginPin('1')">1</button>
                    <button class="num-btn" onclick="enterLoginPin('2')">2</button>
                    <button class="num-btn" onclick="enterLoginPin('3')">3</button>
                </div>
                <div class="numpad-row">
                    <button class="num-btn" onclick="enterLoginPin('4')">4</button>
                    <button class="num-btn" onclick="enterLoginPin('5')">5</button>
                    <button class="num-btn" onclick="enterLoginPin('6')">6</button>
                </div>
                <div class="numpad-row">
                    <button class="num-btn" onclick="enterLoginPin('7')">7</button>
                    <button class="num-btn" onclick="enterLoginPin('8')">8</button>
                    <button class="num-btn" onclick="enterLoginPin('9')">9</button>
                </div>
                <div class="numpad-row">
                    <button class="num-btn invisible"></button>
                    <button class="num-btn" onclick="enterLoginPin('0')">0</button>
                    <button class="num-btn delete-btn" onclick="deleteLoginPin()">‚å´</button>
                </div>
            </div>
            
            <div class="login-options">
                <button class="biometric-btn" onclick="useBiometric()">
                    <span class="biometric-icon">üëÜ</span>
                    Use Touch ID
                </button>
                <button class="link-btn" onclick="forgotPin()">Forgot PIN?</button>
            </div>
        </div>
    </div>

    <!-- Home Screen -->
    <div id="homeScreen" class="screen">
        <div class="container">
            <div class="header-home">
                <div class="greeting">
                    <span id="greetingText">Good morning</span>
                    <span id="userName">John Doe</span>
                </div>
                <div class="profile-pic" id="profilePic">
                    <img src="" alt="Profile" id="profileImage">
                </div>
            </div>
            
            <div class="cards-section">
                <div class="section-header">
                    <h3>My Cards</h3>
                    <button class="link-btn" onclick="showAllCards()">View All</button>
                </div>
                <div class="cards-container" id="cardsContainer">
                    <div class="add-card-btn" onclick="addCard()">
                        <div class="add-icon">+</div>
                        <span>Add Card</span>
                    </div>
                </div>
            </div>
            
            <div class="actions-section">
                <div class="action-buttons">
                    <button class="action-btn disabled">
                        <div class="action-icon">üì§</div>
                        <span>Send</span>
                    </button>
                    <button class="action-btn disabled">
                        <div class="action-icon">üì•</div>
                        <span>Receive</span>
                    </button>
                    <button class="action-btn disabled">
                        <div class="action-icon">üìä</div>
                        <span>Top Up</span>
                    </button>
                    <button class="action-btn disabled">
                        <div class="action-icon">üì∑</div>
                        <span>Scan</span>
                    </button>
                </div>
                <button class="send-money-btn" onclick="sendMoney()">
                    <div class="send-icon">üí∏</div>
                    <span>Send Money</span>
                </button>
            </div>
            
            <div class="recent-transfers">
                <div class="section-header">
                    <h3>Recent Transfers</h3>
                    <button class="link-btn" onclick="showAllHistory()">See All</button>
                </div>
                <div class="transfers-list" id="transfersList">
                    <!-- Transfers will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exchange-rates">
                <h3>Exchange Rates</h3>
                <div class="rates-list" id="ratesList">
                    <!-- Rates will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="promotions">
                <div class="promo-card">
                    <h4>Cashback 5%</h4>
                    <p>Get 5% cashback on all online purchases this month!</p>
                    <button class="promo-btn">Learn More</button>
                </div>
            </div>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <button class="nav-btn active" onclick="switchTab('home')">
                <div class="nav-icon">üè†</div>
                <span>Home</span>
            </button>
            <button class="nav-btn" onclick="switchTab('transfers')">
                <div class="nav-icon">üí∏</div>
                <span>Transfers</span>
            </button>
            <button class="nav-btn" onclick="switchTab('history')">
                <div class="nav-icon">üìù</div>
                <span>History</span>
            </button>
            <button class="nav-btn" onclick="switchTab('profile')">
                <div class="nav-icon">üë§</div>
                <span>Profile</span>
            </button>
        </div>
    </div>

    <!-- Add Card Modal -->
    <div id="addCardModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Card</h3>
                <button class="close-btn" onclick="closeModal('addCardModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Card Number</label>
                    <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                </div>
                <div class="form-group">
                    <label>Expiry Date</label>
                    <input type="text" id="expiryDate" placeholder="MM/YY" maxlength="5">
                </div>
                <div class="form-group">
                    <label>Cardholder Name</label>
                    <input type="text" id="cardholderName" placeholder="John Doe">
                </div>
                <div class="card-info" id="cardInfo" style="display: none;">
                    <p><strong>Bank:</strong> <span id="bankName"></span></p>
                    <p><strong>Type:</strong> <span id="cardType"></span></p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="primary-btn" onclick="saveCard()">Add Card</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
